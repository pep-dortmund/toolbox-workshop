\section{\TeX\ in \texttt{matplotlib} in \TeX}

\begin{frame}[fragile]{\TeX\ in \texttt{matplotlib} (1)}
  \inputminted{python}{script/mattex1.py}
\end{frame}

\AddToShipoutPictureFG*{\ShowFramePicture}
\begin{frame}{Ergebnis (1)}%
  \centering%
  \includegraphics{figures/mattex1.pdf}%
\end{frame}

\begin{frame}[fragile]{\TeX\ in \texttt{matplotlib} (2)}
  \inputminted{python}{script/mattex2.py}
\end{frame}

\begin{frame}[fragile]{Bildgröße}
  \mintinline{python}+plt.figure(figsize=(4.76, 2.94))+
  \begin{itemize}
    \item Größe der Zeichenfläche setzen (in Zoll)
    \item Breite des Textes kann mit \mintinline{latex}+\the\textwidth+ ins Dokument geschrieben werden
    \item $1\,\mathrm{in} = \num{72.27}\,\mathrm{pt}$
    \item Goldener Schnitt für Höhe
    \item Für \texttt{scrartcl} mit Standardeinstellungen: \texttt{5.78, 3.57}
  \end{itemize}

  \begin{minted}{python}
    fig = plt.figure(layout="constrained")
    fig.savefig(..., bbox_inches='tight', pad_inches=0)
  \end{minted}
  \begin{itemize}
    \item Weiße Leerräume am Rand eliminieren
    \item Inhalt des Bilds ist genauso breit wie der Text
  \end{itemize}
\end{frame}

\AddToShipoutPictureFG*{\ShowFramePicture}
\begin{frame}{Ergebnis (2)}%
  \centering%
  \includegraphics{figures/mattex2.pdf}%
\end{frame}

\begin{frame}[fragile]{\TeX\ in \texttt{matplotlib} (3)}
  \inputminted{python}{script/mattex3.py}
\end{frame}

\AddToShipoutPictureFG*{\ShowFramePicture}
\begin{frame}{Ergebnis (3)}%
  \centering%
  \includegraphics{figures/mattex3.pdf}%
\end{frame}

\begin{frame}[fragile]{\TeX\ in \texttt{matplotlib} (4)}
  \inputminted{python}{script/mattex4.py}
\end{frame}

\begin{frame}[fragile]{\texttt{header-matplotlib.tex}}
  \begin{columns}[onlytextwidth]%
    \begin{column}{0.35\textwidth}%
      \small
      \inputminted{latex}{../common/header-matplotlib.tex}
    \end{column}%
    \hfill%
    \begin{column}{0.645\textwidth}%
      \begin{itemize}
        \item \TeX\ wird von \texttt{matplotlib} in \texttt{/tmp} ausgeführt
          \begin{itemize}
            \item Datei kann nicht gefunden werden
          \end{itemize}
        \item Lösung: \texttt{TEXINPUTS} setzen!
        \item \texttt{TEXINPUTS=\$(pwd): python script/mattex4.py}
        \item \texttt{Makefile}:\\
          \texttt{TEXINPUTS=\$\$(pwd): python script/mattex4.py}
      \end{itemize}
    \end{column}%
  \end{columns}%
\end{frame}

\AddToShipoutPictureFG*{\ShowFramePicture}
\begin{frame}{Ergebnis (4)}
  \centering
  \includegraphics{figures/mattex4.pdf}
\end{frame}

\begin{frame}[fragile]{\TeX\ in \texttt{matplotlib} (5)}
  \inputminted{python}{script/mattex5.py}
\end{frame}

\begin{frame}[fragile]{\texttt{matplotlibrc}}
  \inputminted{text}{../common/matplotlibrc}

  \begin{itemize}
    \item Datei heißt \texttt{matplotlibrc} ohne Endung!
    \item Wird im aktuellen Verzeichnis gesucht
      \begin{itemize}
        \item nicht unbedingt gleich dem Ordner, wo das Skript liegt
      \end{itemize}
    \item Alternativ: \texttt{MATPLOTLIBRC} Umgebungsvariable auf Pfad zur Datei setzen
  \end{itemize}
\end{frame}

\AddToShipoutPictureFG*{\ShowFramePicture}
\begin{frame}{Ergebnis (5)}
  \centering
  \includegraphics{figures/mattex5.pdf}
\end{frame}
