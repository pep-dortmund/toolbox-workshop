\section{\texttt{latexmk}}

\begin{frame}[fragile]{
  \texttt{latexmk}
  \hfill
  \doc{http://mirrors.ctan.org/support/latexmk/latexmk.pdf}{latexmk}
}
  \begin{itemize}
    \item Problem: Mehrfaches Kompilieren von Dokumenten ist aufwändig und fehleranfällig
    \item \texttt{latexmk} ist ein Kommandozeilenwerkzeug, das automatisch \texttt{tex} (und andere Programme wie \texttt{biber}) oft genug aufruft
    \item Bei TeXLive mitgeliefert
    \item Auswahl von \LuaLaTeX\ durch Parameter \texttt{--lualatex}
    \item Versteht auch viele \texttt{tex}-Argumente wie \texttt{--interaction} und \texttt{--halt-on-error}
  \end{itemize}

  \begin{block}{Aufruf auf der Kommandozeile}
    \begin{lstlisting}
      latexmk --lualatex --output-directory=build --interaction=nonstopmode --halt-on-error file.tex
    \end{lstlisting}
  \end{block}

  \begin{itemize}
    \item Noch mehr Kontrolle durch Konfigurationsdatei \texttt{latexmkrc}
    \item Siehe dazu Dokumentation
  \end{itemize}
\end{frame}

\begin{frame}[fragile]{\texttt{latexmk} im \texttt{Makefile}}
  \begin{block}{Im \texttt{Makefile}}
    \begin{lstmake}
      build/file.pdf: FORCE plots... tabellen...
            TEXINPUTS=build: \
            BIBINPUTS=build: \
            max_print_line=1048576 \
          latexmk \
            --lualatex \
            --output-directory=build \
            --interaction=nonstopmode \
            --halt-on-error \
          file.tex

      FORCE:
    \end{lstmake}
  \end{block}

  \begin{itemize}
    \item \texttt{latexmk} bestimmt Abhängigkeiten selbst
    \item Sollte also immer ausgeführt werden
      \begin{itemize}
        \item \texttt{FORCE}
      \end{itemize}
  \end{itemize}
\end{frame}
\begin{frame}{Kontinuierliche Updates}
  \begin{center}
    \texttt{latexmk \alert{-pvc} --interaction=nonstopmode … document.tex}
  \end{center}
  \begin{itemize}
    \item \texttt{latexmk} merkt, wenn ihr eure Dateien ändert
    \item Kompiliert automatisch neu
    \item Öffnet den Standard-PDF-Betrachter
    \item Einfach im Hintergrund laufen lassen
  \end{itemize}
\end{frame}
